<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.18.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>API Reference — tfs-pandas 3.7.1 documentation</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-codeautolink.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script src="../_static/jquery.js?v=5d32c60e"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script src="../_static/documentation_options.js?v=86e43a22"></script>
<script src="../_static/doctools.js?v=888ff710"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=f281be69"></script>
<script src="../_static/js/theme.js"></script>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../quickstart.html" rel="prev" title="2 Minutes to tfs-pandas"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a href="../index.html">
<img alt="Logo" class="logo" src="../_static/omc_logo.svg"/>
</a>
<div class="version">
                3.7
              </div>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">2 Minutes to tfs-pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#compression">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#collection">Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frame">Frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hdf5-i-o">HDF5 I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reader">Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writer">Writer</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">tfs-pandas</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../index.html"></a></li>
<li class="breadcrumb-item active">API Reference</li>
<li class="wy-breadcrumbs-aside">
<!-- User defined GitHub URL -->
<a class="fa fa-github" href="https://github.com/pylhc/tfs"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<section id="collection">
<h2>Collection<a class="headerlink" href="#collection" title="Link to this heading"></a></h2>
<p>Advanced <strong>TFS</strong> files reading and writing functionality.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tfs.collection.</span></span><span class="sig-name descname"><span class="pre">Tfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/collection.html#Tfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Class to mark attributes as <strong>TFS</strong> attributes.</p>
<p>Any parameter given to this class will be passed to the <code class="docutils literal notranslate"><span class="pre">_get_filename()</span></code> method,
together with the plane if <code class="docutils literal notranslate"><span class="pre">two_planes=False</span></code> is not present.</p>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tfs.collection.</span></span><span class="sig-name descname"><span class="pre">TfsCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_write</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Abstract class to lazily load and write <strong>TFS</strong> files.</p>
<p>Classes inheriting from this abstract class will be able to define <strong>TFS</strong> files
as readable or writable, and read or write them just as attribute access or
assignments. All attributes will be read and written as <code class="xref py py-obj docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> objects.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>If <strong>./example</strong> is a directory that contains two <strong>TFS</strong> files <strong>beta_phase_x.tfs</strong>
and <strong>beta_phase_y.tfs</strong> with <code class="xref py py-obj docutils literal notranslate"><span class="pre">BETX</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">BETY</span></code> columns respectively:</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># All TFS attributes must be marked with the Tfs(...) class,</span>
<span class="gp">... </span><span class="c1"># and generated attribute names will be appended with _x / _y</span>
<span class="gp">... </span><span class="c1"># depending on files found in "./example"</span>
<span class="gp">... </span><span class="k">class</span> <span class="nc">ExampleCollection</span><span class="p">(</span><span class="n">TfsCollection</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">beta</span> <span class="o">=</span> <span class="n">Tfs</span><span class="p">(</span><span class="s2">"beta_phase_</span><span class="si">{}</span><span class="s2">.tfs"</span><span class="p">)</span>  <span class="c1"># A TFS attribute</span>
<span class="gp">... </span>    <span class="n">other_value</span> <span class="o">=</span> <span class="mi">7</span>  <span class="c1"># A traditional attribute.</span>

<span class="go">...     def get_filename(template: str, plane: str) -&gt; str:</span>
<span class="go">...         return template.format(plane)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span> <span class="o">=</span> <span class="n">ExampleCollection</span><span class="p">(</span><span class="s2">"./example"</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the BETX / BETY column from "beta_phase_x.tfs":</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta_x_column</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">beta_x</span><span class="o">.</span><span class="n">BETX</span>  <span class="c1"># / example.beta_x.BETY</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the BETY column from "beta_phase_y.tfs":</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta_y_column</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">beta_y</span><span class="o">.</span><span class="n">BETY</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The planes can also be accessed as items (both examples below work):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta_y_column</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">beta</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span><span class="o">.</span><span class="n">BETY</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta_y_column</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">beta</span><span class="p">[</span><span class="s2">"Y"</span><span class="p">]</span><span class="o">.</span><span class="n">BETY</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This will write an empty DataFrame to "beta_phase_y.tfs":</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="n">allow_write</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="n">beta</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">()</span>
</pre></div>
</div>
<p>If the file to be loaded is not defined for two planes then the attribute can be declared
and accessed as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coupling</span> <span class="o">=</span> <span class="n">Tfs</span><span class="p">(</span><span class="s2">"getcouple.tfs"</span><span class="p">,</span> <span class="n">two_planes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># declaration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1001w_column</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">coupling</span><span class="o">.</span><span class="n">F1001W</span>  <span class="c1"># access</span>
</pre></div>
</div>
<p>No file will be loaded until the corresponding attribute is accessed and the loaded
<code class="xref py py-obj docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> will be buffered, thus the user should expect an <code class="docutils literal notranslate"><span class="pre">IOError</span></code> if the requested
file is not in the provided directory (only the first time, but is better to always take it
into account!).</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> is assigned to one attribute, it will be set as the buffer value. If the
<code class="docutils literal notranslate"><span class="pre">self.allow_write</span></code> attribute is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, an assignment on one of the attributes will
trigger the corresponding file write.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Clear the file buffer.</p>
<p>Any subsequent attribute access will try to load the corresponding file again.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Write the current state of the TFSDataFrames into their respective files.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.get_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Return the actual filename of the property <code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Property name of the file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> of the actual name of the file in <code class="xref py py-obj docutils literal notranslate"><span class="pre">directory</span></code>.
The path to the file is then <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.directory</span> <span class="pre">/</span> <span class="pre">filename</span></code>.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a></span></span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.get_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Return the actual file path of the property <code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code> (convenience function).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Property name of the file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> of the actual name of the file in <code class="xref py py-obj docutils literal notranslate"><span class="pre">directory</span></code>.
The path to the file is then <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.directory</span> <span class="pre">/</span> <span class="pre">filename</span></code>.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">read_tfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">TfsDataFrame</span></span></span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.read_tfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Reads the <strong>TFS</strong> file from <code class="docutils literal notranslate"><span class="pre">self.directory</span></code> with the given filename.</p>
<p>This function can be overwritten to use something instead of <code class="docutils literal notranslate"><span class="pre">tfs-pandas</span></code>
to load the files. It does not set the TfsDataframe into the buffer
(that is the job of <code class="xref py py-obj docutils literal notranslate"><span class="pre">_load_tfs</span></code>)!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- The name of the file to load.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> built from reading the requested file.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">write_tfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.0)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/collection.html#TfsCollection.write_tfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Write the <strong>TFS</strong> file to <code class="docutils literal notranslate"><span class="pre">self.directory</span></code> with the given filename.</p>
<p>This function can be overwritten to use something instead of <code class="docutils literal notranslate"><span class="pre">tfs-pandas</span></code>
to write out the files. It does not  check for <code class="xref py py-obj docutils literal notranslate"><span class="pre">allow_write</span></code> and
does not set the Dataframe into the buffer (that is the job of <code class="xref py py-obj docutils literal notranslate"><span class="pre">_write_tfs</span></code>)!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- The name of the file to load.</p></li>
<li><p><strong>data_frame</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>) -- TfsDataframe to write</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading"></a></h2>
<p>General constants used throughout <code class="docutils literal notranslate"><span class="pre">tfs-pandas</span></code>, relating to the standard of <strong>TFS</strong> files.</p>
</section>
<section id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Link to this heading"></a></h2>
<p>Errors that can be raised during the handling of <strong>TFS</strong> files.</p>
</section>
<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tfs.errors.</span></span><span class="sig-name descname"><span class="pre">TfsFormatError</span></span><a class="reference internal" href="../_modules/tfs/errors.html#TfsFormatError"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Raised when a wrong format is detected in the <strong>TFS</strong> file.</p>
</dd></dl>
<section id="frame">
<h2>Frame<a class="headerlink" href="#frame" title="Link to this heading"></a></h2>
<p>Contains the class definition of a <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>, inherited from the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, as well
as a utility function to validate the correctness of a <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tfs.frame.</span></span><span class="sig-name descname"><span class="pre">TfsDataFrame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tfs/frame.html#TfsDataFrame"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Class to hold the information of the built an extended <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, together with a way
of getting the headers of the <strong>TFS</strong> file. The file headers are stored in a dictionary upon read.
To get a header value use <code class="docutils literal notranslate"><span class="pre">data_frame.headers["header_name"]</span></code>, or <code class="docutils literal notranslate"><span class="pre">data_frame["header_name"]</span></code> if
it does not conflict with a column name in the dataframe.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TfsDataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.0)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">how_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">TfsDataFrame</span></span></span><a class="reference internal" href="../_modules/tfs/frame.html#TfsDataFrame.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> objects with a database-style join. Data manipulation is done by the
<code class="docutils literal notranslate"><span class="pre">pandas.Dataframe</span></code> method of the same name. Resulting headers are either merged according to the
provided <strong>how_headers</strong> method or as given via <strong>new_headers</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>right</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[TfsDataFrame,</span> <span class="pre">pd.DataFrame]</span></code>) -- The <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> to merge with the caller.</p></li>
<li><p><strong>how_headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Type of merge to be performed for the headers. Either <strong>left</strong> or <strong>right</strong>.
Refer to <code class="xref py py-func docutils literal notranslate"><span class="pre">tfs.frame.merge_headers()</span></code> for behavior. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided and
<strong>new_headers</strong> is not provided, the final headers will be empty. Case insensitive,
defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>new_headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) -- If provided, will be used as headers for the merged <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>.
Otherwise these are determined by merging the headers from the caller and the other
<code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> according to the method defined by the <strong>how_headers</strong> argument.</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>these</strong> (<em>Any keyword argument is given to pandas.DataFrame.merge</em><em>(</em><em>)</em><em>. The default values for all</em>) -- </p></li>
<li><p><strong>pandas</strong> (<em>parameters are left as set in the pandas codebase. To see these</em><em>, </em><em>refer to the</em>) -- </p></li>
<li><p><strong>documentation</strong><strong>]</strong><strong>(</strong><strong>https</strong> (<em>[</em><em>DataFrame.merge</em>) -- //pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.merge.html).</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> with the merged data and merged headers.</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.frame.</span></span><span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.11)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TfsDataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.0)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">TfsDataFrame</span></span></span><a class="reference internal" href="../_modules/tfs/frame.html#concat"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Concatenate <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> objects along a particular axis with optional set logic along the other
axes. Data manipulation is done by the <code class="docutils literal notranslate"><span class="pre">pandas.concat</span></code> function. Resulting headers are either
merged according to the provided <strong>how_headers</strong> method or as given via <strong>new_headers</strong>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please note that when using this function on many <code class="docutils literal notranslate"><span class="pre">TfsDataFrames</span></code>, leaving the contents of the
final headers dictionary to the automatic merger can become unpredictable. In this case it is
recommended to provide the <strong>new_headers</strong> argument to ensure the final result, or leave both
<strong>how_headers</strong> and <strong>new_headers</strong> as <code class="docutils literal notranslate"><span class="pre">None</span></code> (their defaults) to end up with empty headers.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence[Union[TfsDataFrame,</span> <span class="pre">pd.DataFrame]]</span></code>) -- the <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> objects to be concatenated.</p></li>
<li><p><strong>how_headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Type of merge to be performed for the headers. Either <strong>left</strong> or <strong>right</strong>.
Refer to <code class="xref py py-func docutils literal notranslate"><span class="pre">tfs.frame.merge_headers()</span></code> for behavior. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided and
<strong>new_headers</strong> is not provided, the final headers will be empty. Case insensitive, defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>new_headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) -- If provided, will be used as headers for the merged <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>.
Otherwise these are determined by successively merging the headers from all concatenated
<code class="docutils literal notranslate"><span class="pre">TfsDataFrames</span></code> according to the method defined by the <strong>how_headers</strong> argument.</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>parameters</strong> (<em>Any keyword argument is given to pandas.concat</em><em>(</em><em>)</em><em>. The default values for all these</em>) -- </p></li>
<li><p><strong>[</strong><strong>pandas.concat</strong> (<em>are left as set in the pandas codebase. To see these</em><em>, </em><em>refer to the</em>) -- </p></li>
<li><p><strong>documentation</strong><strong>]</strong><strong>(</strong><strong>https</strong> -- //pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html).</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> with the merged data and merged headers.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.frame.</span></span><span class="sig-name descname"><span class="pre">merge_headers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">headers_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.11)"><span class="pre">OrderedDict</span></a></span></span><a class="reference internal" href="../_modules/tfs/frame.html#merge_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Merge headers of two <code class="docutils literal notranslate"><span class="pre">TfsDataFrames</span></code> together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers_left</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) -- Headers of caller (left) <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> when calling <code class="docutils literal notranslate"><span class="pre">.append</span></code>, <code class="docutils literal notranslate"><span class="pre">.join</span></code> or
<code class="docutils literal notranslate"><span class="pre">.merge</span></code>. Headers of the left (preceeding) <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> when calling <code class="docutils literal notranslate"><span class="pre">tfs.frame.concat</span></code>.</p></li>
<li><p><strong>headers_right</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) -- Headers of other (right) <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> when calling <code class="docutils literal notranslate"><span class="pre">.append</span></code>, <code class="docutils literal notranslate"><span class="pre">.join</span></code>
or <code class="docutils literal notranslate"><span class="pre">.merge</span></code>. Headers of the left (preceeding) <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> when calling
<code class="docutils literal notranslate"><span class="pre">tfs.frame.concat</span></code>.</p></li>
<li><p><strong>how</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Type of merge to be performed, either <strong>left</strong> or <strong>right</strong>. If <strong>left*, prioritize keys
from **headers_left</strong> in case of duplicate keys. If <strong>right</strong>, prioritize keys from
<strong>headers_right</strong> in case of duplicate keys. Case insensitive. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given,
an empty dictionary will be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new <code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code> as the merge of the two provided dictionaries.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.frame.</span></span><span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TfsDataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.0)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">info_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_unique_behavior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'warn'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/tfs/frame.html#validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check if a data frame contains finite values only, strings as column names and no empty headers
or column names.</p>
<div class="admonition-methodology admonition">
<p class="admonition-title"><strong>Methodology</strong></p>
<dl class="simple">
<dt>This function performs several different checks on the provided dataframe:</dt><dd><ol class="arabic simple">
<li><p>Checking no single element is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, which is done with a
custom vectorized function applied column-by-column on the dataframe.</p></li>
<li><p>Checking for non-physical values in the dataframe, which is done by
applying the <code class="docutils literal notranslate"><span class="pre">isna</span></code> function with the right option context.</p></li>
<li><p>Checking for duplicates in either indices or columns.</p></li>
<li><p>Checking for column names that are not strings.</p></li>
<li><p>Checking for column names including spaces.</p></li>
</ol>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_frame</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[TfsDataFrame,</span> <span class="pre">pd.DataFrame]</span></code>) -- the dataframe to check on.</p></li>
<li><p><strong>info_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- additional information to include in logging statements.</p></li>
<li><p><strong>non_unique_behavior</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- behavior to adopt if non-unique indices or columns are found in the
dataframe. Accepts <code class="xref py py-obj docutils literal notranslate"><span class="pre">warn</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">raise</span></code> as values, case-insensitively, which dictates
to respectively issue a warning or raise an error if non-unique elements are found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<section id="hdf5-i-o">
<h2>HDF5 I/O<a class="headerlink" href="#hdf5-i-o" title="Link to this heading"></a></h2>
<p>Additional tools for reading and writing <code class="docutils literal notranslate"><span class="pre">TfsDataFrames</span></code> into <code class="docutils literal notranslate"><span class="pre">hdf5</span></code> files.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.hdf.</span></span><span class="sig-name descname"><span class="pre">read_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">TfsDataFrame</span></span></span><a class="reference internal" href="../_modules/tfs/hdf.html#read_hdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Read TfsDataFrame from hdf5 file. The DataFrame needs to be stored
in a group named <code class="docutils literal notranslate"><span class="pre">data</span></code>, while the headers are stored in <code class="docutils literal notranslate"><span class="pre">headers</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Path,</span> <span class="pre">str</span></code>) -- Path of the file to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> object with the loaded data from the file.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.hdf.</span></span><span class="sig-name descname"><span class="pre">write_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TfsDataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/tfs/hdf.html#write_hdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Write TfsDataFrame to hdf5 file. The dataframe will be written into
the group <code class="docutils literal notranslate"><span class="pre">data</span></code>, the headers into the group <code class="docutils literal notranslate"><span class="pre">headers</span></code>.
Only one dataframe per file is allowed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Path,</span> <span class="pre">str</span></code>) -- Path of the output file.</p></li>
<li><p><strong>df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>) -- TfsDataFrame to write.</p></li>
<li><p><strong>kwargs</strong> -- kwargs to be passed to pandas <code class="docutils literal notranslate"><span class="pre">DataFrame.to_hdf()</span></code>.
<code class="docutils literal notranslate"><span class="pre">key</span></code> is not allowed and <code class="docutils literal notranslate"><span class="pre">mode</span></code> needs to be <code class="docutils literal notranslate"><span class="pre">w</span></code> if the
output file already exists (<code class="docutils literal notranslate"><span class="pre">w</span></code> will be used in any case,
even if the file does not exist, but only a warning is logged
in that case).</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<section id="reader">
<h2>Reader<a class="headerlink" href="#reader" title="Link to this heading"></a></h2>
<p>Reading functionalty for <strong>TFS</strong> files.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.reader.</span></span><span class="sig-name descname"><span class="pre">read_headers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tfs_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.11)"><span class="pre">OrderedDict</span></a></span></span><a class="reference internal" href="../_modules/tfs/reader.html#read_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Parses the top of the <strong>tfs_file_path</strong> and returns the headers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tfs_file_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[pathlib.Path,</span> <span class="pre">str]</span></code>) -- Path object to the <strong>TFS</strong>
file to read. Can be a string, in which case it will be cast to
a Path object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code> with the headers read from the file.</p>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="n">read_headers</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">)</span>
</pre></div>
</div>
<p>Just as with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tfs</span></code> function, it is possible to load from compressed
files if the compression format is supported by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/index.html#module-pandas" title="(in pandas v2.1.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas</span></code></a>. The compression
format detection is handled automatically from the extension of the provided
<strong>tfs_file_path</strong> suffix. For instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="n">read_headers</span><span class="p">(</span><span class="s2">"filename.tfs.gz"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.reader.</span></span><span class="sig-name descname"><span class="pre">read_tfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tfs_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_unique_behavior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'warn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">TfsDataFrame</span></span></span><a class="reference internal" href="../_modules/tfs/reader.html#read_tfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Parses the <strong>TFS</strong> table present in <strong>tfs_file_path</strong> and returns a <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Loading and reading compressed files is possible. Any compression format supported
by <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is accepted, which includes: <code class="docutils literal notranslate"><span class="pre">.gz</span></code>, <code class="docutils literal notranslate"><span class="pre">.bz2</span></code>, <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, <code class="docutils literal notranslate"><span class="pre">.xz</span></code>,
<code class="docutils literal notranslate"><span class="pre">.zst</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar.xz</span></code> or <code class="docutils literal notranslate"><span class="pre">.tar.bz2</span></code>. See below for examples.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Through the <em>validate</em> argument, one can skip dataframe validation after
loading it from a file. While this can speed-up the execution time of this
function, it is <strong>not recommended</strong> and is not the default behavior of this
function. The option, however, is left for the user to use at their own risk
should they wish to avoid lengthy validation of large <code class="xref py py-obj docutils literal notranslate"><span class="pre">TfsDataFrames</span></code> (such
as for instance a sliced FCC lattice).</p>
</div>
<div class="admonition-methodology admonition">
<p class="admonition-title"><strong>Methodology</strong></p>
<p>This function first calls a helper which parses and returns all metadata
from the file (headers content, column names &amp; types, number of lines
parsed). The rest of the file (dataframe part) is given to parse to
<code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code> with the right options to make use of its C engine’s
speed. After this, conversion to <code class="docutils literal notranslate"><span class="pre">TfsDataDrame</span></code> is made, proper types
are applied to columns, the index is set and the frame is eventually
validated before being returned.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tfs_file_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[pathlib.Path,</span> <span class="pre">str]</span></code>) -- Path object to the <strong>TFS</strong> file to read. Can be
a string, in which case it will be cast to a Path object.</p></li>
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- Name of the column to set as index. If not given, looks in <strong>tfs_file_path</strong>
for a column starting with <code class="xref py py-obj docutils literal notranslate"><span class="pre">INDEX&amp;&amp;&amp;</span></code>.</p></li>
<li><p><strong>non_unique_behavior</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- behavior to adopt if non-unique indices or columns are found in the
dataframe. Accepts <code class="xref py py-obj docutils literal notranslate"><span class="pre">warn</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">raise</span></code> as values, case-insensitively, which dictates
to respectively issue a warning or raise an error if non-unique elements are found.</p></li>
<li><p><strong>validate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) -- Whether to validate the dataframe after reading it. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> object with the loaded data from the file.</p>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>Reading from a file is simple, as most arguments have sane default values.
The simplest usage goes as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">)</span>
</pre></div>
</div>
<p>One can also pass a <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Path</span></code></a> object to the function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">))</span>
</pre></div>
</div>
<p>If one wants to set a specific column as index, this is done as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">"COLUMN_NAME"</span><span class="p">)</span>
</pre></div>
</div>
<p>If one wants to, for instance, raise and error on non-unique indices or columns,
one can do so as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">non_unique_behavior</span><span class="o">=</span><span class="s2">"raise"</span><span class="p">)</span>
</pre></div>
</div>
<p>One can choose to skip dataframe validation <strong>at one’s own risk</strong> after reading
from file. This is done as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>It is possible to load compressed files if the compression format is supported by pandas.
(see above). The compression format detection is handled automatically from the extension
of the provided <strong>tfs_file_path</strong> suffix. For instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs.gz"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs.bz2"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">"filename.tfs.zip"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>
<section id="tools">
<h2>Tools<a class="headerlink" href="#tools" title="Link to this heading"></a></h2>
<p>Additional functions to modify <strong>TFS</strong> files.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.tools.</span></span><span class="sig-name descname"><span class="pre">remove_header_comments_from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/tfs/tools.html#remove_header_comments_from_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check the files in the provided list for invalid headers (no type defined) and removes those
inplace when found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list_of_files</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List[Union[str,</span> <span class="pre">Path]]</span></code>) -- list of Paths to <strong>TFS</strong> files meant to be checked.
The entries of the list can be strings or Path objects.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.tools.</span></span><span class="sig-name descname"><span class="pre">remove_nan_from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/tfs/tools.html#remove_nan_from_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Remove <code class="docutils literal notranslate"><span class="pre">NaN</span></code> entries from files in <code class="xref py py-obj docutils literal notranslate"><span class="pre">list_of_files</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_of_files</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List[Union[str,</span> <span class="pre">Path]]</span></code>) -- list of Paths to <strong>TFS</strong> files meant to be sanitized.
The elements of the list can be strings or Path objects.</p></li>
<li><p><strong>replace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) -- if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the provided files will be overwritten. Otherwise new files
with <code class="xref py py-obj docutils literal notranslate"><span class="pre">dropna</span></code> appended to the original filenames will be written to disk. Defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.tools.</span></span><span class="sig-name descname"><span class="pre">significant_digits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_floats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/tfs/tools.html#significant_digits"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Computes <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> and its error properly rounded with respect to the size of <code class="xref py py-obj docutils literal notranslate"><span class="pre">error</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) -- a number.</p></li>
<li><p><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) -- the error on the number.</p></li>
<li><p><strong>return_floats</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) -- if <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns significant digits as floats. Otherwise as
strings. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of the rounded value and error with regards to the size of the error.</p>
</dd>
</dl>
</dd></dl>
<section id="writer">
<h2>Writer<a class="headerlink" href="#writer" title="Link to this heading"></a></h2>
<p>Writing functionalty for <strong>TFS</strong> files.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">tfs.writer.</span></span><span class="sig-name descname"><span class="pre">write_tfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tfs_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.11)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TfsDataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.0)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headerswidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_unique_behavior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'warn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/tfs/writer.html#write_tfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Writes the provided <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> to disk at <strong>tfs_file_path</strong>, eventually with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">headers_dict</span></code> as
headers dictionary.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Compression of the output file is possible, by simply providing a valid compression extension
as the <strong>tfs_file_path</strong> suffix. Any compression format supported by <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is accepted,
which includes: <code class="docutils literal notranslate"><span class="pre">.gz</span></code>, <code class="docutils literal notranslate"><span class="pre">.bz2</span></code>, <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, <code class="docutils literal notranslate"><span class="pre">.xz</span></code>, <code class="docutils literal notranslate"><span class="pre">.zst</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>,
<code class="docutils literal notranslate"><span class="pre">.tar.xz</span></code> or <code class="docutils literal notranslate"><span class="pre">.tar.bz2</span></code>. See below for examples.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Through the <em>validate</em> argument, one can skip dataframe validation before writing it to file.
While this can speed-up the execution time of this function , it is <strong>not recommended</strong> and
is not the default behavior of this function. The option, however, is left for the user to
use at their own risk should they wish to avoid lengthy validation of large <code class="xref py py-obj docutils literal notranslate"><span class="pre">TfsDataFrames</span></code>
(such as for instance a sliced FCC lattice).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tfs_file_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[pathlib.Path,</span> <span class="pre">str]</span></code>) -- Path object to the output <strong>TFS</strong> file. Can be
a string, in which case it will be cast to a Path object.</p></li>
<li><p><strong>data_frame</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[TfsDataFrame,</span> <span class="pre">pd.DataFrame]</span></code>) -- <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code> or <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> to
write to file.</p></li>
<li><p><strong>headers_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) -- Headers for the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data_frame</span></code>. If not provided, assumes a <code class="docutils literal notranslate"><span class="pre">TfsDataFrame</span></code>
was given and tries to use <code class="docutils literal notranslate"><span class="pre">data_frame.headers</span></code>.</p></li>
<li><p><strong>save_index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Union[str,</span> <span class="pre">bool]</span></code>) -- bool or string. Default to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, saves
the index of <code class="xref py py-obj docutils literal notranslate"><span class="pre">data_frame</span></code> to a column identifiable by <code class="xref py py-obj docutils literal notranslate"><span class="pre">INDEX&amp;&amp;&amp;</span></code>. If given as string,
saves the index of <code class="xref py py-obj docutils literal notranslate"><span class="pre">data_frame</span></code> to a column named by the provided value.</p></li>
<li><p><strong>colwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) -- Column width, can not be smaller than <code class="xref py py-obj docutils literal notranslate"><span class="pre">MIN_COLUMN_WIDTH</span></code>.</p></li>
<li><p><strong>headerswidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) -- Used to format the header width for both keys and values.</p></li>
<li><p><strong>non_unique_behavior</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) -- behavior to adopt if non-unique indices or columns are found in the
dataframe. Accepts <code class="xref py py-obj docutils literal notranslate"><span class="pre">warn</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">raise</span></code> as values, case-insensitively, which dictates
to respectively issue a warning or raise an error if non-unique elements are found.</p></li>
<li><p><strong>validate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) -- Whether to validate the dataframe before writing it to file. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>Writing to file is simple, as most arguments have sane default values.
The simplest usage goes as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">)</span>
</pre></div>
</div>
<p>If one wants to, for instance, raise and error on non-unique indices or columns,
one can do so as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">,</span> <span class="n">non_unique_behavior</span><span class="o">=</span><span class="s2">"raise"</span><span class="p">)</span>
</pre></div>
</div>
<p>One can choose to skip dataframe validation <strong>at one’s own risk</strong> before writing
it to file. This is done as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"filename.tfs"</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>It is possible to directly have the output file be compressed, by specifying a
valid compression extension as the <strong>tfs_file_path</strong> suffix. The detection
and compression is handled automatically. For instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tfs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"filename.tfs.gz"</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="../quickstart.html" rel="prev" title="2 Minutes to tfs-pandas"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright .</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>